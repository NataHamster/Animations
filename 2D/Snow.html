<!doctype html> 
<html>
<head>
	<title>Snow</title>
	<meta charset="utf-8">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js"></script>
	<style>
		img.bg {
			min-height: 100%;
			min-width: 1024px;
			width: 100%;
			height: auto;
			position: fixed;
			top: 0;
			left: 0;
		}

		#flake1,  #flake2{
			position: absolute;
			top: -50px;
		}
	</style>
</head>
<body>	
	<img src="assets/img/Winter2.jpg" class="bg">
	<img class = "flake" id = "flake1" src = "assets/img/snowflake.png" width="25">
	<img class = "flake" id = "flake2" src = "assets/img/snowflake2.png" width="25">

	<script>
		var t = setInterval(
			function(){	
				var documentHeight 		= $(document).height();
				var startPositionLeft 	= Math.random() * $(document).width() - 100;
				var startPositionLeft2 	= Math.random() * $(document).width() - 150;
				var startOpacity		= 0.5 + Math.random();
				var sizeFlake			= 10 + Math.random() * 20;
				var endPositionTop		= documentHeight - 80;		
				var endPositionLeft		= startPositionLeft - 100 + Math.random() * 200;
				var endPositionLeft2		= startPositionLeft2 - 100 + Math.random() * 200;	
				var endPositionLeft3		= startPositionLeft2 + 100;			
				var durationFall		= documentHeight * 10 + Math.random() * 5;
				$('#flake1')
					.clone()
					.appendTo('body')
					.css(
						{
							left: startPositionLeft,
							opacity: startOpacity,
							'font-size': sizeFlake,
							color: "#fff"
						}
					)
					.animate(
						{
							top: endPositionTop,
							left: endPositionLeft,
							opacity: 0.3							
						},
						durationFall,
						'linear',
						function() {
							$(this).remove()
						}
					).mousemove(function(e){
						  var offsetX;
					      var offsetY = -80;
						  if (startPositionLeft < e.pageX) {offsetX = -80;}
						  else if  (startPositionLeft = e.pageX) {offsetX = 0;}
						  else { offsetX = 80;}
						  //if ($('#flake1').css("top") < e.pageY) {offsetY = 100;}
						  $(this).clearQueue().animate({top : e.pageY+offsetY, left:e.pageX+offsetX }, 'slow');								
					 });
				$('#flake2')
					.clone()
					.appendTo('body')
					.css(
						{
							left: startPositionLeft2,
							opacity: startOpacity,
							'font-size': sizeFlake,					
						}
					)
					.animate(
						{
							top: endPositionTop,
							left: endPositionLeft2,
							opacity: 0.3,					
						},
						durationFall,
						'linear',
						function() {
							$(this).remove()
						}
					)
					.mousemove(function(e){
						  var offsetX;
					      var offsetY = -80;
						  if (startPositionLeft < e.pageX) {offsetX = -80;}
						  else if  (startPositionLeft = e.pageX) {offsetX = 0;}
						  else { offsetX = 80;}
						  //if ($('#flake1').css("top") < e.pageY) {offsetY = 100;}
						  $(this).clearQueue().animate({top : e.pageY+offsetY, left:e.pageX+offsetX }, 'slow');								
					 });		
			}, 40);	
	</script>
</body>
</html>